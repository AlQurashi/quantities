<html><head>
        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <title>quantities</title>
        </head><body>
        <h1>quantities</h1>
        <!-- Generated by Ddoc from source/quantities/package.d -->
The purpose  of this  package is  to perform  automatic compile-time or runtime
dimensional checking when dealing with <u>quantities</u> and units.
<br><br>
<b>Synopsis:</b><br>
<pre class="d_code"><font color=blue>import</font> <u>quantities</u>;
<font color=blue>import</font> std.math : approxEqual;
<font color=blue>import</font> std.stdio : writeln, writefln;

<font color=green>// Working with predefined units
</font>{
    <font color=blue>auto</font> distance = 384_400 * kilo(meter);
    <font color=blue>auto</font> speed = 299_792_458  * meter/second;

    Time time;
    time = distance / speed;
    writefln(<font color=red>"Travel time of light from the moon: %s s"</font>, time.value(second));

    <font color=blue>static</font> <font color=blue>assert</font>(<font color=blue>is</font>(<font color=blue>typeof</font>(distance) == Length));
    <font color=blue>static</font> <font color=blue>assert</font>(<font color=blue>is</font>(Speed == Quantity!(<font color=blue>double</font>, [<font color=red>"L"</font>: 1, <font color=red>"T"</font>: -1])));
}

<font color=green>// Dimensional correctness is check at compile-time
</font>{
    Mass mass;
    <font color=blue>static</font> <font color=blue>assert</font>(!<font color=blue>__traits</font>(compiles, mass = 15 * meter));
    <font color=blue>static</font> <font color=blue>assert</font>(!<font color=blue>__traits</font>(compiles, mass = 1.2));
}

<font color=green>// Calculations can be done at compile-time
</font>{
    <font color=blue>enum</font> distance = 384_400 * kilo(meter);
    <font color=blue>enum</font> speed = 299_792_458  * meter/second;
    <font color=blue>enum</font> time = distance / speed;
    writefln(<font color=red>"Travel time of light from the moon: %s s"</font>, time.value(second));
}

<font color=green>// Create a new unit from the predefined ones
</font>{
    <font color=blue>enum</font> inch = 2.54 * centi(meter);
    <font color=blue>enum</font> mile = 1609 * meter;
    writefln(<font color=red>"There are %s inches in a mile"</font>, mile.value(inch));
}

<font color=green>// Create a new unit with new dimensions
</font>{
    <font color=green>// Create a new base unit of currency
</font>    <font color=blue>enum</font> euro = unit!(<font color=blue>double</font>, <font color=red>"C"</font>); <font color=green>// C is the chosen dimension symol (for currency...)
</font>
    <font color=blue>auto</font> dollar = euro / 1.35;
    <font color=blue>auto</font> price = 2000 * dollar;
    writefln(<font color=red>"This computer costs â‚¬%.2f"</font>, price.value(euro));
}

<font color=green>// Compile-time parsing
</font>{
    <font color=blue>enum</font> distance = si!<font color=red>"384_400 km"</font>;
    <font color=blue>enum</font> speed = si!<font color=red>"299_792_458 m/s"</font>;
    <font color=blue>enum</font> time = distance / speed;
    writefln(<font color=red>"Travel time of light from the moon: %s s"</font>, time.value(second));

    <font color=blue>static</font> <font color=blue>assert</font>(<font color=blue>is</font>(<font color=blue>typeof</font>(distance) == Length));
    <font color=blue>static</font> <font color=blue>assert</font>(<font color=blue>is</font>(<font color=blue>typeof</font>(speed) == Speed));
}

<font color=green>// Runtime parsing
</font>{
    <font color=blue>auto</font> data = [
        <font color=red>"distance-to-the-moon"</font>: <font color=red>"384_400 km"</font>,
        <font color=red>"speed-of-light"</font>: <font color=red>"299_792_458 m/s"</font>
    ];
    <font color=blue>auto</font> distance = parseSI!Length(data[<font color=red>"distance-to-the-moon"</font>]);
    <font color=blue>auto</font> speed = parseSI!Speed(data[<font color=red>"speed-of-light"</font>]);
    <font color=blue>auto</font> time = distance / speed;
    writefln(<font color=red>"Travel time of light from the moon: %s s"</font>, time.value(second));
}

<font color=green>// Chemistry session
</font>{
    <font color=green>// Use the predefined quantity types (in module quantities.si)
</font>    Volume volume;
    Concentration concentration;
    Mass mass;

    <font color=green>// Define a new quantity type
</font>    <font color=blue>alias</font> MolarMass = <font color=blue>typeof</font>(kilogram/mole);

    <font color=green>// I have to make a new solution at the concentration of 25 mmol/L
</font>    concentration = 25 * milli(mole)/liter;

    <font color=green>// The final volume is 100 ml.
</font>    volume = 100 * milli(liter);

    <font color=green>// The molar mass of my compound is 118.9 g/mol
</font>    MolarMass mm = 118.9 * gram/mole;

    <font color=green>// What mass should I weigh?
</font>    mass = concentration * volume * mm;
    writefln(<font color=red>"Weigh %s of substance"</font>, mass);
    <font color=green>// prints: Weigh 0.00029725 [M] of substance
</font>    <font color=green>// Wait! That's not really useful!
</font>    <font color=green>// My scales graduations are in 1/10 milligrams!
</font>    writefln(<font color=red>"Weigh %.1f mg of substance"</font>, mass.value(milli(gram)));
    <font color=green>// prints: Weigh 297.3 mg of substance
</font>}
</pre>

<br><br>
<b>Authors:</b><br>
Nicolas Sicard
<br><br>
<b>License:</b><br>
<a href="www.boost.org/LICENSE_1_0.txt, Boost License 1.0">www.boost.org/LICENSE_1_0.txt, Boost License 1.0</a>
<br><br>
<b>Source:</b><br>
<a href="https://github.com/biozic/quantities">https://github.com/biozic/quantities</a><br><br>


        <hr><small>Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a>. Copyright 2013-2015, Nicolas Sicard
</small>
        </body></html>
